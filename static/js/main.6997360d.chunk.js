(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{208:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(69),o=n.n(s),r=(n(77),n(3)),i=(n(78),n(12)),l=n.n(i),d=n(24),u=(n(80),n(81),n(0)),b=function(e){var t=Object(a.useState)(e.selectedCountry),n=Object(r.a)(t,2),c=n[0],s=n[1];return Object(u.jsxs)("div",{className:"modal ".concat(e.isModal?"is-active":""),children:[Object(u.jsx)("div",{className:"modal-background"}),Object(u.jsxs)("div",{className:"modal-card",children:[Object(u.jsxs)("header",{className:"modal-card-head",children:[Object(u.jsx)("p",{className:"modal-card-title",children:"Choose Country"}),Object(u.jsx)("button",{className:"delete","aria-label":"close",onClick:function(){return e.onToggleModal(!1)}})]}),Object(u.jsx)("section",{className:"modal-card-body",children:Object(u.jsx)("div",{className:"panel",children:e.countryOptions.map((function(e){return Object(u.jsx)("a",{className:"panel-block ".concat(e.ISO2===c.ISO2?"is-active":""),onClick:function(){s({ISO2:e.ISO2,country:e.Country})},children:e.Country},e.ISO2)}))})}),Object(u.jsxs)("footer",{className:"modal-card-foot",children:[Object(u.jsx)("button",{className:"button is-success",onClick:function(){e.onSelectCountry(c),e.onToggleModal(!1)},children:"Select"}),Object(u.jsx)("button",{className:"button",onClick:function(){return e.onToggleModal(!1)},children:"Cancel"})]})]})]})},j=function(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(r.a)(o,2),j=i[0],m=i[1];Object(a.useEffect)(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f();case 1:case"end":return e.stop()}}),e)}))),[]);var f=function(){fetch("https://api.covid19api.com/countries").then((function(e){return e.json()})).then((function(e){var t=e.sort((function(e,t){return e.Country>t.Country?1:t.Country>e.Country?-1:0}));s(t)}))};return Object(u.jsxs)("header",{className:"header",children:[Object(u.jsxs)("nav",{className:"navbar is-light",role:"navigation","aria-label":"main navigation",children:[Object(u.jsx)("div",{className:"navbar-brand",children:Object(u.jsx)("h1",{className:"navbar-item",children:"COVID-19 STATUS"})}),Object(u.jsx)("div",{className:"navbar-end",children:Object(u.jsx)("div",{className:"navbar-item",children:Object(u.jsx)("div",{className:"buttons",children:Object(u.jsx)("a",{className:"button is-primary",onClick:function(){return m(!0)},children:Object(u.jsx)("strong",{children:"Choose Country"})})})})})]}),Object(u.jsx)(b,{isModal:j,onToggleModal:function(e){m(e)},countryOptions:c,selectedCountry:e.selectedCountry,onSelectCountry:e.onSelectCountry})]})},m=n(70),f=n.n(m),h=n(25),v=function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=Object(a.useState)({}),c=Object(r.a)(n,2),s=c[0],o=c[1],i=Object(a.useState)({}),b=Object(r.a)(i,2),j=b[0],m=b[1],v=Object(a.useState)({}),O=Object(r.a)(v,2),p=O[0],C=O[1];return Object(a.useEffect)((function(){var n=function(){var t=Object(d.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://api.covid19api.com/total/dayone/country/".concat(e.selectedCountry.ISO2));case 2:n=t.sent,a(n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a=function(e){var n=e.reduce((function(e,t){var n=new Date(t.Date),a=n.getFullYear(),c=n.getMonth(),s=n.getDate(),o=t.Active,r=t.Confirmed,i=t.Deaths,l=t.Recovered,d=e.find((function(e){return e.year===a&&e.month===c}));return d||e.push({year:a,month:c,date:s,active:o,confirmed:r,deaths:i,recovered:l}),d&&d.date<s&&(d.date=s,d.active=o,d.confirmed=r,d.deaths=i,d.recovered=l),e}),[]),a=n.map((function(e){return"".concat(t[e.month],"-").concat(e.year)}));o({labels:a,datasets:[{label:"Cumulative Confirmed Cases",backgroundColor:"salmon",fill:!0,data:n.map((function(e){return e.confirmed}))}]}),m({labels:a,datasets:[{label:"Quarantined Cases",borderColor:"salmon",fill:!1,data:n.map((function(e){return e.active}))}]});var c=n[n.length-1];C({labels:["Confirmed","Recovered","Deaths"],datasets:[{label:"Confirmed, Recovered, Deaths ratio",backgroundColor:["#ff3d67","#059bff","#ffc233"],borderColor:["#ff3d67","#059bff","#ffc233"],fill:!1,data:[null===c||void 0===c?void 0:c.confirmed,null===c||void 0===c?void 0:c.recovered,null===c||void 0===c?void 0:c.deaths]}]})};n()}),[e.selectedCountry]),Object(u.jsx)("section",{className:"section",children:Object(u.jsxs)("div",{className:"tile is-ancestor",children:[Object(u.jsxs)("div",{className:"tile is-vertical is-parent",children:[Object(u.jsxs)("div",{className:"tile is-child box",children:[Object(u.jsx)("p",{className:"title",children:"Cumulative Confirmed Cases Trend"}),Object(u.jsx)(h.a,{data:s,options:{legend:{display:!0,position:"bottom"}}})]}),Object(u.jsxs)("div",{className:"tile is-child box",children:[Object(u.jsx)("p",{className:"title",children:"Monthly Quarantined Cases"}),Object(u.jsx)(h.c,{data:j,options:{legend:{display:!0,position:"bottom"}}})]})]}),Object(u.jsx)("div",{className:"tile is-parent",children:Object(u.jsxs)("div",{className:"tile is-child box",children:[Object(u.jsxs)("p",{className:"title",children:["Cumulative Confirmed, Recovered and Deaths Cases (",t[(new Date).getMonth()],")"]}),Object(u.jsx)(h.b,{data:p,options:("Cumulative Confirmed, Recovered and Deaths Cases (".concat(t[(new Date).getMonth()],")"),{legend:{display:!0,position:"bottom"}})})]})})]})})};var O=function(){var e=Object(a.useState)({country:"Australia",ISO2:"AU"}),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(j,{selectedCountry:n,onSelectCountry:function(e){c(e)}}),Object(u.jsx)(v,{selectedCountry:n})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,209)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};n(207);o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root")),p()},77:function(e,t,n){},78:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){}},[[208,1,2]]]);
//# sourceMappingURL=main.6997360d.chunk.js.map